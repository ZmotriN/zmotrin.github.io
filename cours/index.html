<!DOCTYPE html>
<html lang="fr-ca">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="./favicon.ico">
        <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
        <title>Quantum Aquarium - Instructions</title>
        <style>
            @import url("https://fonts.googleapis.com/css?family=Roboto");
            *{margin:0;padding:0;box-sizing:border-box}body{height:100%;background:linear-gradient(to bottom,#02ffff 15%,#01b6e5);background-repeat:repeat-x;font-family:Roboto;font-size:24px;color:#555;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#logo{margin-left:auto;margin-right:auto;width:1060px;height:338px;background-image:url(./images/logo.png),url(./images/flair.png);background-repeat:no-repeat;background-position:center}#copyright{margin-left:auto;margin-right:auto;width:400px;font-size:18px;height:80px;text-align:center}#instructions{margin-left:auto;margin-right:auto;margin-top:-100px;margin-bottom:100px;width:1060px;display:flex;flex-direction:column;line-height:24px}#instructions .instruction{padding:12px 12px 12px 12px;cursor:pointer}#instructions .instruction:nth-child(odd){background-color:#02ffff}#instructions .instruction:hover{background-color:#01b4bb;transition-duration:250ms;color:#000}#instructions .instruction.check{color:#fff;background-color:#01b4bb}#instructions .instruction.check .text{text-decoration:line-through}#instructions .instruction.check .fish::after{content:" üêü"}
        </style>
    </head>
    <body>
        <div id="logo"></div>
        <div id="instructions">
            <instruction v-for="instruction in instructions" ref="instructions" :num="instruction.num" :checked="instruction.check" :text="instruction.text" @changed="changed()">
        </div>
        <div id="copyright">Copyright (c) 2022 Maxime Larriv√©e-Roy<br>Coll√®ge Montmorency</div>
        <script>
            const text = `
                Le nombre de poissons de chaque couleur ainsi que le nombre de poissons morts doivent √™tre affich√© dans le header.
                Le nombre de bulles doit √™tre configurable par la propri√©t√© "nbbubble" de l'app.
                Le nombre de poissons doit √™tre configurable par la propri√©t√© "nbfish" de l'app.
                Utilisez l'attribut "ref" sur la composante "fish" afin de pouvoir y acc√®der par l'app ult√©rieurement.
                Lorsqu'un poisson est initialis√©, il doit √©mettre l'√©v√®nement "ready" et appeller la m√©thode "alive()" pour d√©marrer son cycle de vie.
                L'√©v√®nement "ready" du poisson doit √™tre capt√© par l'app et appeller la m√©thode "fishready()" avec l'index du poisson.
                Dans la m√©thode "fishready()", incr√©mentez la propri√©t√© correspondant √† la couleur du poisson. (Nombre total de poissons <couleur>)
                Lorsqu'appell√©e, la m√©thode "alive()" de la composante fish doit d√©marrer un timer al√©atoire entre 10 et 30 secondes. Ce timer doit appeller la m√©thode "starve()". Utilisez la propri√©t√© "timerstarve" pour sauvegarder le timer. Il d√©termine le temps avant que le poisson ait faim.
                Lorsqu'appell√©e, la m√©thode "starving()" de la composante fish doit √† son tour d√©marrer un timer al√©atoire entre 5 et 15 secondes. Ce timer doit appeller la m√©thode "die()". Utilisez la propri√©t√© "timerdie" Pour sauvegarder le timer. Il d√©termine le temps avant que le poisson meurt de faim.
                Lorsqu'appell√©e, la m√©thode "die()" doit √©mettre l'√©v√®nement "died" et appliquer le style "display: none;" au container du poisson (this.container). √âtant donn√© que le poisson prend 1 seconde √† mourir, vous devez utilisez un timer afin de cr√©er un d√©lai pour envoyer l'√©v√®nement et appliquer le style.
                L'√©v√®nement "died" du poisson doit √™tre capt√© par l'app et appeller la m√©thode "fishdied()" avec l'index du poisson.
                Dans la m√©thode "fishdied()", d√©cr√©mentez la propri√©t√© correspondant √† la couleur du poisson. (Nombre total de poissons <couleur>)
                Toujours dans la m√©thode "fishdied()", incr√©mentez la propri√©t√© "this.dead" (Nombre de poissons morts) afin de garder le compte dans le header.
                Toujours dans la m√©thode "fishdied()", lorsque "this.dead" atteind la valeur correspondant au nombre total de poisson (this.nbfish) cel√† signifie que la partie est termin√©e. Vous devez donc appeller la m√©thode "gameover()".
                Lorsque la partie se termine, l'aquarium tourne au rouge et une t√™te de mort s'affiche. Faites en sorte que lorsque l'on clique sur la t√™te de mort (div id="skull"), la m√©thode "retry()" de l'app soit appell√©e.
                Il est maintenant temps de nourir les poissons. Dans le template de la composante "fish", faites en sorte que lorsque l'on clique sur le poisson (div id="fish_{num}"), la m√©thode "feed()" du poisson soit appell√©e.
                Dans la m√©thode "feed()" de la composante "fish", si l'√©tat du poisson est "alive" (en sant√©), annulez le timer "timerstarve" et appellez la m√©thode "die()".
                Toujours dans la m√©thode "feed()" de la composante "fish", si l'√©tat du poisson est "starving" (affam√©), annulez le timer "timerdie" et appellez la m√©thode "alive()" afin de r√©initialiser l'√©tat du poisson.
                Renommez votre dossier de travail‚ÄØ au format suivant: [nom de famille]_[pr√©nom].
                Zippez votre dossier et joignez-le au Devoir "Examen Quantum Aquarium" dans Teams.
            `;
            app=Vue.createApp({data(){var instructions=[],cookieValue=localStorage.getItem("quantum.aquarium.instructions.checked"),checks="string"==typeof cookieValue?cookieValue.split(","):[];return text.trim().split("\n").forEach((str,idx)=>{instructions.push({num:idx+1,check:checks.includes(String(idx+1)),text:str.trim()})}),{instructions:instructions}},methods:{changed(){var checked=[];this.$refs.instructions.forEach(elm=>{elm.check&&checked.push(elm.num)}),localStorage.setItem("quantum.aquarium.instructions.checked",checked.join(","))}}});app.component("instruction",{props:["num","text","checked"],data:()=>({check:!1,div:null}),created(){this.checked&&(this.check=!0),this.$nextTick(()=>{this.div=document.getElementById("instruction_"+this.num),this.check&&this.checkDiv()})},methods:{uncheckDiv(){this.div.classList.remove("check"),this.check=!1},checkDiv(){this.div.classList.add("check"),this.check=!0},checkClick(event){this.check?this.uncheckDiv():this.checkDiv(),this.$emit("changed")}},template:'\n    <div :id="\'instruction_\'+num" class="instruction" @click="checkClick($event)">\n        <span class="text"><strong>{{ num }}.</strong> {{ text }}</span><span class="fish"></span>\n    </div>'}),app.mount("#instructions");
        </script>
    </body>
</html>